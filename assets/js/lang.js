const translations = {
    ar: {
        logo: "Ù…ÙØ­ÙˆÙÙ‘Ù„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø°ÙƒÙŠ",
        btn: "English",
        dir: "rtl",
        // Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù„ÙˆÙŠØ©
        m1: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", m2: "ğŸ”’ Ø­Ù…Ø§ÙŠØ©", m3: "ğŸ”‘ ØªØ´ÙÙŠØ±", m4: "ğŸ–¼ï¸ Ø¬ÙˆØ¯Ø©", m5: "ğŸ“„ Ø¯Ù…Ø¬", m6: "âš™ï¸ Ø¶ØºØ·",
        // Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (index.html)
        heroT_index: "Ø­ÙˆÙ‘Ù„ Ù…Ù„ÙØ§ØªÙƒ Ø¨Ø°ÙƒØ§Ø¡ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„",
        heroD_index: "Ù…Ù†ØµØ© Ø´Ø§Ù…Ù„Ø© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù…Ù„ÙØ§Øª Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¨Ø£Ù…Ø§Ù† ØªØ§Ù… ÙˆØ¨ØªÙ‚Ù†ÙŠØ§Øª 2026",
        // ØµÙØ­Ø© Ø¶ØºØ· PDF (compress-pdf.html)
        heroT_compress: "ØªÙ‚Ù„ÙŠÙ„ Ø­Ø¬Ù… PDF",
        heroD_compress: "ÙˆÙØ± Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø¹Ø¨Ø± Ø¶ØºØ· Ù…Ù„ÙØ§Øª PDF Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ ÙˆØ¶ÙˆØ­ Ø§Ù„Ù…Ø­ØªÙˆÙ‰.",
        cardT_compress: "Ø¶Ø§ØºØ· Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø°ÙƒÙŠ",
        label_compress: "Ø§Ø®ØªØ± Ù…Ù„Ù PDF Ù„Ù„Ø¶ØºØ·",
        origSize: "Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø£ØµÙ„ÙŠ:",
        compSize: "Ø§Ù„Ø­Ø¬Ù… Ø¨Ø¹Ø¯ Ø§Ù„Ø¶ØºØ·:",
        actionBtn_compress: "Ø¨Ø¯Ø¡ Ø§Ù„Ø¶ØºØ· ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„",
        // ØµÙØ­Ø© ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± (decrypt.html)
        heroT_decrypt: "Ø§Ø³ØªØ¹Ø§Ø¯Ø© ØµÙˆØ±Ùƒ Ø§Ù„Ø£ØµÙ„ÙŠØ©",
        heroD_decrypt: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø´ÙØ± ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ ØµÙˆØ±ØªÙƒ ÙÙˆØ±Ø§Ù‹.",
        cardT_decrypt: "ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± Ø§Ù„Ø¢Ù…Ù†",
        label_decrypt: "Ø§Ø®ØªØ± Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø´ÙØ± (.enc)",
        passLabel: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:",
        btnDecrypt: "ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± Ø§Ù„Ø¢Ù†",
        fileSelected: "ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ù…Ø´ÙØ±:",
        // Ø§Ù„ØªØ°ÙŠÙŠÙ„
        footer: "Â© 2026 Ù…Ø­ÙˆÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø°ÙƒÙŠ."
    },
    en: {
        logo: "Smart Image Converter",
        btn: "Ø¹Ø±Ø¨ÙŠ",
        dir: "ltr",
        // Navigation Menu
        m1: "Home", m2: "ğŸ”’ Protect", m3: "ğŸ”‘ Decrypt", m4: "ğŸ–¼ï¸ Quality", m5: "ğŸ“„ Merge", m6: "âš™ï¸ Compress",
        // Home Page
        heroT_index: "Transform Files with Future Intel",
        heroD_index: "Secure local file processing platform - 2026 Tech",
        // PDF Compression Page
        heroT_compress: "Compress PDF Size",
        heroD_compress: "Save storage space by compressing PDF files while maintaining quality.",
        cardT_compress: "Smart File Compressor",
        label_compress: "Select PDF file to compress",
        origSize: "Original File Size:",
        compSize: "Compressed Size:",
        actionBtn_compress: "Start Compression & Download",
        // Decrypt Page
        heroT_decrypt: "Restore Original Photos",
        heroD_decrypt: "Enter the encrypted file and correct password to retrieve your photo instantly.",
        cardT_decrypt: "Secure Decryption",
        label_decrypt: "Choose encrypted file (.enc)",
        passLabel: "Password:",
        btnDecrypt: "Decrypt Now",
        fileSelected: "Encrypted file selected:",
        // Footer
        footer: "Â© 2026 Smart Image Converter."
    }
};

let currentLang = 'ar';

function changeLanguage() {
    currentLang = (currentLang === 'ar') ? 'en' : 'ar';
    applyTranslations();
}

function applyTranslations() {
    const langData = translations[currentLang];
    const path = window.location.pathname;
    
    // 1. ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø«Ø§Ø¨ØªØ© (Ø§Ù„Ù„ÙˆØ¬ÙˆØŒ Ø§Ù„Ø²Ø±ØŒ Ø§Ù„ÙÙˆØªØ±)
    if(document.getElementById('txt-logo')) document.getElementById('txt-logo').innerText = langData.logo;
    if(document.getElementById('lang-btn')) document.getElementById('lang-btn').innerText = langData.btn;
    if(document.getElementById('txt-footer')) document.getElementById('txt-footer').innerText = langData.footer;

    // 2. ØªØ±Ø¬Ù…Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù„ÙˆÙŠØ©
    for(let i=1; i<=6; i++) {
        const m = document.getElementById('m' + i);
        if(m) m.innerText = langData['m' + i];
    }

    // 3. ØªØ±Ø¬Ù…Ø© ØµÙØ­Ø© Ø¶ØºØ· PDF
    if (path.includes('compress-pdf.html')) {
        updateText('txt-hero-title', langData.heroT_compress);
        updateText('txt-hero-desc', langData.heroD_compress);
        updateText('txt-card-title', langData.cardT_compress);
        updateText('txt-label', langData.label_compress);
        updateText('txt-orig-size', langData.origSize);
        updateText('txt-comp-size', langData.compSize);
        updateText('txt-btn-action', langData.actionBtn_compress);
    } 
    // 4. ØªØ±Ø¬Ù…Ø© ØµÙØ­Ø© ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±
    else if (path.includes('decrypt.html')) {
        updateText('txt-hero-title', langData.heroT_decrypt);
        updateText('txt-hero-desc', langData.heroD_decrypt);
        updateText('txt-card-title', langData.cardT_decrypt);
        updateText('txt-label', langData.label_decrypt);
        updateText('txt-pass-label', langData.passLabel);
        updateText('btnDecrypt', langData.btnDecrypt);
        updateText('txt-file-selected', langData.fileSelected);
    }
    // 5. ØªØ±Ø¬Ù…Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    else {
        updateText('txt-hero-title', langData.heroT_index);
        updateText('txt-hero-desc', langData.heroD_index);
    }
    
    // Ø¶Ø¨Ø· Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø©
    document.documentElement.dir = langData.dir;
    document.documentElement.lang = currentLang;
}

// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¹Ù†ØµØ± ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯
function updateText(id, text) {
    const el = document.getElementById(id);
    if (el) el.innerText = text;
}

// Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
window.addEventListener('DOMContentLoaded', () => {
    if (navigator.language.startsWith('en')) {
        currentLang = 'en';
        applyTranslations();
    }
});
